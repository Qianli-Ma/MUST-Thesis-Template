

\RequirePackage{fontawesome}
\newcommand{\addreference}{
    \clearpage
    \chapter*{\fontsize{18 pt}{18 pt}\selectfont 參考文獻}
    \markboth{參考文獻}{}
    \addcontentsline{toc}{chapter}{\hspace{-3.35 em}參考文獻}
    \addtolength{\itemsep}{4em}
    \IfFileExists{ref.bbl}{%
        \input{ref.bbl}
    }{%
        \IfFileExists{ref.bib}{
        {\small\noindent \textcolor{magenta}{\Large\faWarning} \textbf{为符合澳门科技大学研究生毕业论文参考文献的特殊格式要求，我们使用 *.bib 文件编写文献列表编译后得到 *.bbl 文件，再通过工具转换为符合排版要求的参考文献。。}\\
        \textcolor{Dandelion}{\Large\faQuestionCircle}\textbf{ bbl 文件有什么用？}\\
        \rule[1 em]{\linewidth}{0.5pt}\\[-1.5em]
        \textcolor{Emerald}{\faMailReply} 有了 bbl 文件,我们只需要将中英混合文献内容进行自动分类排序,就能得到符合澳门科技大学毕业论文要求的排版格式. \\
        \textcolor{Dandelion}{\Large\faQuestionCircle} \textbf{在哪里可以找到 bbl 文件？}\\
        \rule[1 em]{\linewidth}{0.5pt}\\[-1.5em]
        \textcolor{Emerald}{\faMailReply} 有2种模式:
        \begin{itemize}
        \item 本地模式：您可以在项目根目录下找到最新的 *.bbl 文件。
        \item Overleaf online模式：tex 编译成功后，点击旁边的“logs and outfiles”图标，然后在右下角找到“others logs and files”，单击即可找到 bbl 文件。
        \end{itemize}
        \textcolor{Dandelion}{\Large\faQuestionCircle}\textbf{ 有 bbl 之后？}\\
        \rule[1 em]{\linewidth}{0.5pt}\\[-1.5em]
        \textcolor{Emerald}{\faMailReply} 通过以下操作:
        \begin{itemize}
        \item 本地转换工具: 目录 ".tool/must-bbl-converter.html"下载后浏览打开使用;
        \item 在线转换工具,有效期至2024-03 地址: \textit{http://pychat.online/must-bbl-converter}
        \item 将格式化后的 bbl 文件更名为“ref.bbl”，放入根目录即可
        \item 请注意目录下存在“ref.bbl”文件时，参考文献内容往后将不会改变; 如果想重新添加新文献，删除 ref.bbl 文件后重复以上步骤即可。
        \end{itemize}
        }
            \bibliographystyle{.def/.sty/apa5}
            \bibliography{ref.bib}
        }{%
            不存在 ref.bib 或 ref.bbl 文件.
        }
    }
}
